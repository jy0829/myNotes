# Lecture2: 
 
1. File maniputation: 
#include <stdio.h> 
FILE *fp = fopen(filename); 
if (fp == NULL) error (1,0, "error message); 
int ch = getc(fp); 
ch != EOF 
fclose(fp); 
 
Readline: 
    char line[max_line]; 
    while( fgets(line, sizeof(line), fp) != NULL) printf("%s", line); 
  // if line is defined as char*, sizeof(line) returns 8. 
  // if char[] line = "…", sizeof(line) returns the number of characters 
 
2. Unix command 
Grep –r(recursive) -i (case insensitive) 
Grep "a.*" 
. Matches a single character 
.* matches as many as possible 
Diff –c (human readable) 

3. I/O redirection 
Diff file1 file2 > differecen.txt 
Diff file2 file3 >> difference .txt (append) 
command < filename 
grep "foo" | sort > sorted_results.txt 

4. String utility 
To use: #include <string.h> 
Some useful string functions:  
› strcat(str1, str2) // concat str2 to the end of str1  
› strcmp(str1, str2) // returns 0 if strings are equal,  otherwise -1 or 1, for < or > 
> strncmp(str1, str2, n)  // compare first n characters  
› strdup(str) // returns a new (malloc’ed) copy of str  
› strcpy(str1, str2) // copies contents of str2 to str1  
› strlen(str) // finds the length of a str  
› strstr(str1, str2) // returns a ptr to the first occurrence  of str2 in str1 

5. Scanf and printf 
#include <stdio.h> 
scanf("%s %d %d", name, &age, &height);  
printf("Name: %s\tAge:%d\tHeight:%d\n", name, age, height); 
%d int 
%c char 
%f lffloat, double 
%s char* or char[] 
%p --- pointer value 


# Lecture 3
1. Error 
#include <stdbool.h>  // bool is not standard 
#inlcude <error.h> 
error(1,0, "warning message") 

2. Buffer example
char buffer[17] = {'\0'} ; only reserve 16 chars 
char termch; 
scanf("%16[^\n] % c ", buffer, &termch); 
assert (termch == '\n'); 
print_prefixex (buffer); 
print_suffixes (buffer); 

void print_prefixes( const char* buf) { 
  printf("Prefixes: "); 
  // reserve a local copy, do not modify buf. 
  int len = strlen(buf); 
  char clone [len+1]; // notice the +1. Not dynamic – valid in C !!! 
  strcpy(clone, buffer); 
  for (int I = len-1 ; I > 0; I --){ 
    char [I ] = '\0'; 
    printf(" %s \n", clone); 
  }
 }
